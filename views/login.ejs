<!DOCTYPE html>
<html lang="en">
<head>
   <%- include('./components/headTag') -%> <!-- Inclut le contenu du fichier "./components/headTag" -->
   <link rel="stylesheet" href="./CSS/login.css"> <!-- Importe la feuille de style CSS "./CSS/login.css" -->
</head>
<body>
  <!-- Popup d'erreur -->
  <div id="errorPopup" class="error-popup">
    <h2>Login Error</h2>
    <p>Invalid admin name or password. <br> Please try again.</p>
  </div>

  <div class="blurred-box">
    <div class="user-login-box">
      <span class="user-icon"></span>
      <form action="/login" method="POST">
        <div class="user-name">Admin King</div>
        <input class="user-password" type="text" name="adminName" id="adminName" placeholder="Username" required/>
        <input class="user-password" type="password" name="adminPassword" id="adminPassword" placeholder="Password" required/>
        <button type="submit">Login</button>
      </form>
    </div>
  </div>

  <%- include('./components/bootstrapScript') -%> <!-- Inclut le contenu du fichier "./components/bootstrapScript" -->
</body>
</html>

<!-- Script JavaScript pour afficher la popup d'erreur -->
<script>
  // Récupérer l'URL actuelle pour vérifier si le login a échoué
  const currentUrl = new URL(window.location.href);

  // Vérifier si le paramètre d'échec de connexion est présent dans l'URL
  if (currentUrl.searchParams.has('loginFailed')) {
    // Afficher la popup d'erreur
    const errorPopup = document.getElementById('errorPopup');
    errorPopup.style.display = 'block';
    // ferme la popup après 2 secondes
    setTimeout(() => {
      errorPopup.style.display = 'none';
    }, 2000);
  }
</script>
